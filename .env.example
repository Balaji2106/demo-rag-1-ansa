# =============================================================================
# RAG API CONFIGURATION
# =============================================================================

# API Server Configuration
RAG_HOST=0.0.0.0
RAG_PORT=8000
RAG_UPLOAD_DIR=./uploads/

# Debug Mode
DEBUG_RAG_API=False
DEBUG_PGVECTOR_QUERIES=False
CONSOLE_JSON=False

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================

# Vector Database Type (pgvector or atlas-mongo)
VECTOR_DB_TYPE=pgvector

# PostgreSQL Configuration (for pgvector)
POSTGRES_DB=mydatabase
POSTGRES_USER=myuser
POSTGRES_PASSWORD=mypassword
DB_HOST=db
DB_PORT=5432
POSTGRES_USE_UNIX_SOCKET=False

# MongoDB Atlas Configuration (alternative to pgvector)
# VECTOR_DB_TYPE=atlas-mongo
# ATLAS_MONGO_DB_URI=mongodb+srv://user:pass@cluster.mongodb.net/
# COLLECTION_NAME=rag_collection
# ATLAS_SEARCH_INDEX=vector_index

# =============================================================================
# EMBEDDINGS CONFIGURATION
# =============================================================================

# Collection and Chunking
COLLECTION_NAME=testcollection
CHUNK_SIZE=1500
CHUNK_OVERLAP=100
PDF_EXTRACT_IMAGES=False
RAG_CHECK_EMBEDDING_CTX_LENGTH=True

# Embeddings Provider (openai, azure, huggingface, huggingfacetei, ollama, bedrock, google_genai, vertexai)
EMBEDDINGS_PROVIDER=azure

# OpenAI Embeddings
# EMBEDDINGS_PROVIDER=openai
# EMBEDDINGS_MODEL=text-embedding-3-small
# EMBEDDINGS_CHUNK_SIZE=200
# OPENAI_API_KEY=sk-your-key-here
# RAG_OPENAI_API_KEY=sk-your-key-here
# RAG_OPENAI_BASEURL=https://api.openai.com/v1
# RAG_OPENAI_PROXY=

# Azure OpenAI Embeddings (RECOMMENDED for this project)
EMBEDDINGS_PROVIDER=azure
EMBEDDINGS_MODEL=text-embedding-3-small
EMBEDDINGS_CHUNK_SIZE=200
RAG_AZURE_OPENAI_API_KEY=your-azure-key-here
RAG_AZURE_OPENAI_ENDPOINT=https://ai-40mini.cognitiveservices.azure.com/
RAG_AZURE_OPENAI_API_VERSION=2024-02-01

# HuggingFace Embeddings
# EMBEDDINGS_PROVIDER=huggingface
# EMBEDDINGS_MODEL=sentence-transformers/all-MiniLM-L6-v2
# HF_TOKEN=your-hf-token

# Ollama Embeddings
# EMBEDDINGS_PROVIDER=ollama
# EMBEDDINGS_MODEL=nomic-embed-text
# OLLAMA_BASE_URL=http://ollama:11434

# Google Gemini Embeddings
# EMBEDDINGS_PROVIDER=google_genai
# EMBEDDINGS_MODEL=gemini-embedding-001
# GOOGLE_API_KEY=your-google-api-key
# RAG_GOOGLE_API_KEY=your-google-api-key

# AWS Bedrock Embeddings
# EMBEDDINGS_PROVIDER=bedrock
# EMBEDDINGS_MODEL=amazon.titan-embed-text-v1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_DEFAULT_REGION=us-east-1
# AWS_SESSION_TOKEN=your-session-token

# Google VertexAI Embeddings
# EMBEDDINGS_PROVIDER=vertexai
# EMBEDDINGS_MODEL=text-embedding-004
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# =============================================================================
# CHAT MODELS CONFIGURATION (NEW)
# =============================================================================

# Azure OpenAI Chat Configuration (for GPT-4o-mini)
AZURE_CHAT_ENDPOINT=https://ai-40mini.cognitiveservices.azure.com/
AZURE_CHAT_API_KEY=your-azure-chat-key-here

# Google Gemini Chat Configuration
GEMINI_API_KEY=your-gemini-api-key-here

# =============================================================================
# AUTHENTICATION (OPTIONAL)
# =============================================================================

# JWT Secret for API authentication (leave empty to disable auth)
JWT_SECRET=

# =============================================================================
# THREAD POOL CONFIGURATION
# =============================================================================

# Thread pool size for async operations (defaults to CPU count, max 8)
RAG_THREAD_POOL_SIZE=4

# =============================================================================
# PROMPTFOO TESTING CONFIGURATION
# =============================================================================

# Promptfoo API Configuration
PROMPTFOO_RAG_BASE_URL=http://127.0.0.1:8000
PROMPTFOO_RAG_JWT=
PROMPTFOO_RAG_FILE_ID=testid1
PROMPTFOO_RAG_ENTITY_ID=promptfoo
PROMPTFOO_RAG_K=4
PROMPTFOO_RAG_TIMEOUT=30

# OpenAI for LLM-graded tests
OPENAI_API_KEY=sk-your-openai-key-for-testing

# =============================================================================
# EXAMPLE CONFIGURATION FOR THIS PROJECT
# =============================================================================

# Based on user's provided Azure credentials:
#
# EMBEDDINGS_PROVIDER=azure
# EMBEDDINGS_MODEL=text-embedding-3-small
# RAG_AZURE_OPENAI_API_KEY=CL8xtm***Gidim
# RAG_AZURE_OPENAI_ENDPOINT=https://ai-40mini.cognitiveservices.azure.com/
# RAG_AZURE_OPENAI_API_VERSION=2024-02-01
#
# AZURE_CHAT_ENDPOINT=https://ai-40mini.cognitiveservices.azure.com/
# AZURE_CHAT_API_KEY=CL8xtm***Gidim
#
# GEMINI_API_KEY=your-gemini-key-here
